[{"obj_type":1,"obj_id":1012606,"parent_id":0,"title":"STT","description":"","status":"active","params":[{"name":"filmNames","type":"array","descr":"","flags":["required","input"],"regex":"","regex_error_text":""}],"ref_mask":false,"conv_type":"process","scheme":{"nodes":[{"id":"61b23210513aa034755745d9","obj_type":3,"condition":{"logics":[{"type":"api_code","err_node_id":"61b2335682ba9651b25945f5","lang":"js","src":"/* jshint esnext: true */\n\nif (data.genreList && data.genreList.length) {\n\tdata.allGenres.push(...data.genreList);\n    data.genreList = undefined;\n}\n\ndata.countOfGengers = data.allGenres.reduce((aggregator, currentObject) => {\n    if (aggregator[currentObject.value]) {\n        aggregator[currentObject.value]++;\n    } else {\n        aggregator[currentObject.value] = 1;\n    }\n    return aggregator;\n}, {});"},{"type":"go","to_node_id":"61b1ecc6513aa034754c341e"}],"semaphors":[]},"title":"add last gotten genres result","description":"","x":-8,"y":1784,"uuid":"29e24006-304e-41fc-a611-5752ed45e4fb","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"61b22e17513aa0347556e0a9","obj_type":0,"condition":{"logics":[{"type":"api_code","err_node_id":"61b23210513aa034755745d9","lang":"js","src":"/* jshint esnext: true */\n\nif (data.genreList && data.genreList.length) {\n\tdata.allGenres.push(...data.genreList); \n} \n\nif (data.filmSearchingResults && data.filmSearchingResults.length) {\n    data.filmId = data.filmSearchingResults[0].id;\n    data.filmSearchingResults.splice(0, 1);\n} else {\n    throw 'filmSearchingResults has been iterated successfully and is empty currently';\n}"},{"type":"go","to_node_id":"61b232bc82ba9651b2593731"}],"semaphors":[]},"title":"","description":"","x":-24,"y":1368,"uuid":"f52825da-d918-4fdb-9b65-134f660dd1bf","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"61b22904513aa034755657fe","obj_type":3,"condition":{"logics":[{"type":"api_code","err_node_id":"61b22904513aa03475565801","lang":"js","src":"/* jshint esnext: true */\n\nif (data.results && data.results.length) {\n\tdata.filmSearchingResults.push(data.results[0]);\n//     data.results = undefined;\n}\n\ndata.allGenres = [];"},{"type":"go","to_node_id":"61b22e17513aa0347556e0a9"}],"semaphors":[]},"title":"add last gotten result","description":"","x":-24,"y":1060,"uuid":"84d8d0ac-5454-45c2-b950-ade4f15a4bde","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"61b2335682ba9651b25945f5","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":408,"y":1872,"uuid":"75a2b479-82a6-4112-9bd7-f3bda0d67abd","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"61b232bc82ba9651b2593733","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":-644,"y":1424,"uuid":"9023fb3a-f2d9-4493-81de-2a6a8926f0b5","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"61b232bc82ba9651b2593731","obj_type":0,"condition":{"logics":[{"type":"api","err_node_id":"61b232bc82ba9651b2593733","format":"","method":"GET","url":"https://imdb-api.com/API/Title/{{apiKey}}/{{filmId}}","extra":{},"extra_type":{},"max_threads":5,"debug_info":false,"customize_response":false,"response":{"header":"{{header}}","body":"{{body}}"},"response_type":{"header":"object","body":"object"},"extra_headers":{},"send_sys":true,"cert_pem":"","content_type":"application/json","is_migrate":true},{"type":"go","to_node_id":"61b22e17513aa0347556e0a9"}],"semaphors":[]},"title":"Search film by id","description":"","x":-448,"y":1352,"uuid":"62afe1b4-d09c-4043-8b18-27524a27bf5e","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"61b22904513aa03475565801","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":416,"y":1128,"uuid":"dd14fb69-3f18-4a9e-954a-e6d349427f5f","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"61b1e69e82ba9651b24cd9e7","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"filmNames array is not defined","description":"","x":448,"y":-296,"uuid":"53ac7f36-05eb-4bbd-acb2-fd9871dca7bf","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"61b2209b513aa03475555391","obj_type":0,"condition":{"logics":[{"type":"api_code","err_node_id":"61b1e69e82ba9651b24cd9e7","lang":"js","src":"if (!data.filmNames) {\n    throw 'filmNames is not defined or `undefined`';\n} else if (!Array.isArray(data.filmNames)) {\n    throw 'filmNames is not array';\n} else if (!data.filmNames.length) {\n    throw 'filmNames is empty';\n}"},{"type":"go","to_node_id":"61b1eae782ba9651b24d9113"}],"semaphors":[]},"title":"filmNames checker","description":"","x":-20,"y":-368,"uuid":"ab2423d9-2c00-4366-95db-49b61b9573a0","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"61afc702513aa0347521b288","obj_type":1,"condition":{"logics":[{"type":"go","to_node_id":"61b2209b513aa03475555391"}],"semaphors":[]},"title":"Start","description":"","x":80,"y":-548,"uuid":"ab8f7d26-c0fe-4997-8a8d-28fee3c685ec","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"61b1ecc6513aa034754c341c","obj_type":0,"condition":{"logics":[{"type":"api_code","err_node_id":"61b22904513aa034755657fe","src":"/* jshint esnext: true */\n\nif (data.results && data.results.length) {\n\tdata.filmSearchingResults.push(data.results[0]); \n} \n\nif (data.filmNames.length) {\n    data.filmName = data.filmNames[0];\n\tdata.filmNames.splice(0, 1);\n} else {\n    throw 'filmNames has been iterated successfully and is empty currently';\n}","lang":"js"},{"type":"go","to_node_id":"61b1eb9b513aa034754be9fe"}],"semaphors":[]},"title":"","description":"","x":-16,"y":752,"uuid":"7dc0ddba-c8c1-404b-8206-f31c73b122d2","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"61b21a1f82ba9651b256654f","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":616,"y":356,"uuid":"b944ae42-3a60-4cfe-ab6e-966e914f2e97","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"61b21a1f82ba9651b256654d","obj_type":0,"condition":{"logics":[{"type":"api_code","err_node_id":"61b21a1f82ba9651b256654f","lang":"js","src":"data.filmSearchingResults = [];"},{"type":"go","to_node_id":"61b1ecc6513aa034754c341c"}],"semaphors":[]},"title":"filmSearchingResults declaring","description":"","x":-24,"y":296,"uuid":"7bc527e3-7387-4e2d-99e1-40529d462e9e","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"61b1eb9b513aa034754bea00","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":-648,"y":836,"uuid":"317ff0d3-1b09-46b0-84a3-293f99c86aec","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"61b1eb9b513aa034754be9fe","obj_type":0,"condition":{"logics":[{"type":"api","err_node_id":"61b1eb9b513aa034754bea00","format":"","method":"GET","url":"https://imdb-api.com/API/Search/{{apiKey}}/{{filmName}}","extra":{},"extra_type":{},"max_threads":5,"debug_info":false,"customize_response":false,"response":{"header":"{{header}}","body":"{{body}}"},"response_type":{"header":"object","body":"object"},"extra_headers":{},"send_sys":true,"cert_pem":"","content_type":"application/json","is_migrate":true},{"type":"go","to_node_id":"61b1ecc6513aa034754c341c"}],"semaphors":[]},"title":"Searching films by name","description":"","x":-444,"y":760,"uuid":"0043b778-41dd-4bd6-ab50-a69609889fe7","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"61b1eb49513aa034754bcf83","obj_type":3,"condition":{"logics":[{"type":"set_param","extra":{"{{apiKey}}":"k_ezsd46v1"},"extra_type":{"{{apiKey}}":"string"},"err_node_id":"61b1eb49513aa034754bcf84"},{"type":"go","to_node_id":"61b21a1f82ba9651b256654d"}],"semaphors":[]},"title":"Set apiKey","description":"","x":312,"y":0,"uuid":"c22a82a4-e3f6-4d33-b19d-ce46eb55ca49","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"61b1ecc6513aa034754c341e","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":88,"y":2248,"uuid":"88903cb5-1a0f-4cca-be71-5657e44e8ea7","extra":"{\"modeForm\":\"collapse\",\"icon\":\"success\"}","options":null},{"id":"61b1eb49513aa034754bcf84","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":660,"y":88,"uuid":"f45579e6-1b7e-416b-b9b2-0752eb45c433","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"61b1eae782ba9651b24d9113","obj_type":0,"condition":{"logics":[{"type":"api_code","err_node_id":"61b1eb49513aa034754bcf83","lang":"js","src":"if (!data.apiKey) {\n    throw 'Api key is not defined or valid';\n}"},{"type":"go","to_node_id":"61b21a1f82ba9651b256654d"}],"semaphors":[]},"title":"apiKey checker","description":"","x":-16,"y":-4,"uuid":"bfffa64c-45b8-4d7a-b811-6427cedfb59d","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null}],"web_settings":[[],[]]},"conv_type":"process","uuid":"d39d7f22-a85e-4ed8-991d-03cb5def685e"}]